# Caddyfile for Garderobe Digital
# Caddy automatically obtains and renews Let's Encrypt SSL certificates

{$DOMAIN:localhost} {
    # Reverse proxy to the Node.js app
    reverse_proxy app:3000

    # Enable compression
    encode gzip zstd

    # Access logging
    log {
        output file /data/access.log {
            roll_size 100mb
            roll_keep 5
        }
        format json
    }
}
